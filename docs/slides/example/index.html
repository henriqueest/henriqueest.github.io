<!DOCTYPE html>
<html lang="en-us">
<head>
  
  

  
  
  

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Wowchemy 5.4.0 for Hugo">

  
  <link rel="manifest" href="/index.webmanifest">
  

  <link rel="icon" type="image/png" href="/media/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_32x32_fill_lanczos_center_3.png">
  <link rel="apple-touch-icon" type="image/png" href="/media/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_192x192_fill_lanczos_center_3.png">

  <link rel="canonical" href="https://henriqueest.github.io/slides/example/">

  <title> | Henrique JP Alves</title>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.2.1/dist/reveal.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.2.1/dist/theme/black.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/styles/dracula.min.css" crossorigin="anonymous" id="highlight-theme">

  
  
  <link rel="stylesheet" href="/css/reveal_custom.min.css">
</head>
<body>

  
<div class="reveal">
  <div class="slides">
    
    
    

    
    
    
    
    

    
    

    
    
    
    <section>
    
      <h1 id="pacote-ggplot2-um-curso-introdutório">Pacote ggplot2: um curso introdutório</h1>
<p>Henrique José de Paula Alves</p>
<p><a href="http://localhost:4321/courses/example/python/" target="_blank" rel="noopener">Material</a></p>

    </section>
    

    
    
    
    <section>
    
      
<h2 id="o-que-você-vai-aprender">O que você vai aprender</h2>
<ul>
<li>Habilidades fundamentais de programação R</li>
<li>Conceitos estatísticos e resultados gráficos: como aplicá-los</li>
<li>Ganhe experiência com o R:  visualização de dados com o pacote ggplot2 e mineração de dados com o pacote tidyverse</li>
</ul>

    </section>
    

    
    
    
    <section>
    
      
<h2 id="visão-geral-do-curso">Visão geral do curso</h2>
<ul>
<li>Grande demanda por profissionais em estatística aplicada</li>
<li>Mineração de dados e as saídas gráficas: passo fundamental em estatística aplicada</li>
<li>Objetivo:  apresentar duas importantes ferramentas disponíveis no software R: os pacotes tidyverse e ggplot2</li>
</ul>

    </section>
    

    
    
    
    <section>
    
      
<h2 id="pré-requisitos">Pré-requisitos</h2>
<ul>
<li>É desejável que o aluno tenha algum conhecimento de programação em linguagem R</li>
<li>É também desejável que o aluno tenha conhecimentos básicos de Estatística e Probabilidades</li>
</ul>

    </section>
    

    
    
    
    <section>
    
      
<h2 id="controles">Controles</h2>
<ul>
<li>Próximo: <code>Seta para a direita ou Espaço</code></li>
<li>Anterior: <code>Seta para a esquerda</code></li>
<li>Início: <code>Home</code></li>
<li>Fim: <code>End</code></li>
<li>Visão geral: <code>Esc</code></li>
<li>Tela cheia: <code>F</code></li>
<li>Zoom: &lsquo;Alt + Clique&rsquo;</li>
</ul>

    </section>
    

    
    
    
    <section>
    
      
<h2 id="introdução">Introdução</h2>
<ul>
<li>Todo e qualquer resultado estatístico deve ser bem compreendido</li>
<li>Saídas gráficas representam um resultado estatístico</li>
<li>Apresentação do comportamento dos dados de forma resumida</li>
<li>Não é uma tarefa fácil nem corriqueira</li>
</ul>

    </section>
    

    
    
    
    <section>
    
      
<h2 id="introdução-1">Introdução</h2>
<ul>
<li>Uma forma direta de obter saídas gráficas: pacotes esquisse e ggplotgui</li>
<li>Esse não é o nosso objetivo</li>
<li>Apresentar o pacote ggplot2 de forma lenta e gradativa</li>
<li>O seu diferencial com relação a outros pacotes</li>
<li>Funções de saídas gráficas: base do R</li>
</ul>

    </section>
    

    
    
    
    <section>
    
      
<h2 id="pacotes-necessários">Pacotes necessários</h2>
<ul>
<li>Instalação e carregamento dos pacotes no R</li>
</ul>
<p>Código:</p>
<pre><code class="language-r">#nomes dos pacotes
packages &lt;- c(&quot;dplyr&quot;,&quot;tidyverse&quot;,&quot;lattice&quot;,  &quot;rgdal&quot;, &quot;rgeos&quot;, 
&quot;maptools&quot;, &quot;plyr&quot;, &quot;sf&quot;, &quot;covid19br&quot;, &quot;RColorBrewer&quot;)

# instala os pacotes que não estão instalados
installed_packages &lt;- packages %in% rownames(installed.packages())
if (any(installed_packages == FALSE)) {
  install.packages(packages[!installed_packages])
}

# carrega os pacotes
invisible(lapply(packages, library, character.only = TRUE))
</code></pre>

    </section>
    

    
    
    
    <section>
    
      
<h2 id="base-de-dados">Base de dados</h2>
<ul>
<li>Base de dados disponível no R: <a href="https://gist.github.com/seankross/a412dfbd88b3db70b74b" target="_blank" rel="noopener">mtcars</a></li>
<li>Coletados da revista &ldquo;Motor Trend US (1974)&rdquo;</li>
<li>32 modelos de automóveis: consumo de combustível e outros 10 aspectos de design e desempenho</li>
</ul>

    </section>
    

    
    
    
    <section>
    
      
<h2 id="base-de-dados-1">Base de dados</h2>
<ul>
<li>Preparando a base de dados</li>
</ul>
<p>Código:</p>
<pre><code class="language-r">mtcars &lt;- within(mtcars, {
   vs &lt;- factor(vs, labels = c(&quot;V&quot;, &quot;S&quot;))
   am &lt;- factor(am, labels = c(&quot;automatica&quot;, &quot;manual&quot;))
   cyl  &lt;- ordered(cyl)
   gear &lt;- ordered(gear)
   carb &lt;- ordered(carb)})
</code></pre>

    </section>
    

    
    
    
    <section>
    
      
<h2 id="base-de-dados-2">Base de dados</h2>
<ul>
<li>Preparando a base de dados</li>
</ul>
<p>Código:</p>
<pre><code class="language-r">summary(mtcars)
</code></pre>
<pre><code>##       mpg        cyl         disp             hp             drat      
##  Min.   :10.40   4:11   Min.   : 71.1   Min.   : 52.0   Min.   :2.760  
##  1st Qu.:15.43   6: 7   1st Qu.:120.8   1st Qu.: 96.5   1st Qu.:3.080  
##  Median :19.20   8:14   Median :196.3   Median :123.0   Median :3.695  
##  Mean   :20.09          Mean   :230.7   Mean   :146.7   Mean   :3.597  
##  3rd Qu.:22.80          3rd Qu.:326.0   3rd Qu.:180.0   3rd Qu.:3.920  
##  Max.   :33.90          Max.   :472.0   Max.   :335.0   Max.   :4.930  
##        wt             qsec       vs              am     gear   carb  
##  Min.   :1.513   Min.   :14.50   V:18   automatica:19   3:15   1: 7  
##  1st Qu.:2.581   1st Qu.:16.89   S:14   manual    :13   4:12   2:10  
##  Median :3.325   Median :17.71                          5: 5   3: 3  
##  Mean   :3.217   Mean   :17.85                                 4:10  
##  3rd Qu.:3.610   3rd Qu.:18.90                                 6: 1  
##  Max.   :5.424   Max.   :22.90                                 8: 1
</code></pre>

    </section>
    

    
    
    
    <section>
    
      
<h2 id="porque-o-pacote-ggplot2">Porque o pacote ggplot2</h2>
<ul>
<li>Vamos construir algumas saídas gráficas</li>
<li>Utilzar as funções do pacote graphics: base do R</li>
<li>Pacote lattice</li>
</ul>

    </section>
    

    
    
    
    <section>
    
      
<h2 id="porque-o-pacote-ggplot2-1">Porque o pacote ggplot2</h2>
<p>Código (graphics):</p>
<pre><code class="language-r">hist(mtcars$mpg, col = &quot;lightblue&quot;, main = &quot;Função hist (base)&quot;, 
     xlab = &quot;Milhas por galão (mpg)&quot;, ylab = &quot;Frequência absoluta&quot;)
</code></pre>
<img src="https://henriqueest.github.io/slides/example/index_files/figure-html/unnamed-chunk-3-1.png" width="50%" style="display: block; margin: auto;" />

    </section>
    

    
    
    
    <section>
    
      
<h2 id="porque-o-pacote-ggplot2-2">Porque o pacote ggplot2</h2>
<p>Código (lattice):</p>
<pre><code class="language-r">library(lattice)
histogram(~mpg,data=mtcars,
       type =&quot;count&quot;,
       xlab =&quot;Milhas por galão (mpg)&quot;,
       ylab = &quot;Frequência absoluta&quot;,
       main =&quot;Função histogram (lattice)&quot;,
       col = &quot;lightblue&quot;,
       breaks = 5)
</code></pre>
<img src="https://henriqueest.github.io/slides/example/index_files/figure-html/unnamed-chunk-4-1.png" width="45%" style="display: block; margin: auto;" />

    </section>
    

    
    
    
    <section>
    
      
<h2 id="porque-o-pacote-ggplot2-3">Porque o pacote ggplot2</h2>
<p>Código (base):</p>
<pre><code class="language-r">tab &lt;- table(mtcars$cyl);tab
</code></pre>
<pre><code>## 
##  4  6  8 
## 11  7 14
</code></pre>
<pre><code class="language-r">barplot(tab, col = &quot;lightblue&quot;, main = &quot;Função barplot (base)&quot;, xlab = &quot;Número de cilindros por motor (cyl)&quot;, ylab = &quot;Frequência absoluta&quot;)
</code></pre>
<img src="https://henriqueest.github.io/slides/example/index_files/figure-html/unnamed-chunk-5-1.png" width="45%" style="display: block; margin: auto;" />

    </section>
    

    
    
    
    <section>
    
      
<h2 id="porque-o-pacote-ggplot2-4">Porque o pacote ggplot2</h2>
<p>Código (lattice):</p>
<pre><code class="language-r">library(lattice)
tabela &lt;- xtabs(~cyl, data = mtcars);tabela
</code></pre>
<pre><code>## cyl
##  4  6  8 
## 11  7 14
</code></pre>
<pre><code class="language-r">barchart(tabela,
         horizontal = FALSE,
         main = &quot;Função barchart (lattice)&quot;,
         xlab = &quot;Número de cilindros por motor (cyl)&quot;,
         ylab = &quot;Frequência absoluta&quot;,
         col = &quot;lightblue&quot;)
</code></pre>
<img src="https://henriqueest.github.io/slides/example/index_files/figure-html/unnamed-chunk-6-1.png" width="45%" style="display: block; margin: auto;" />

    </section>
    

    
    
    
    <section>
    
      
<h2 id="porque-o-pacote-ggplot2-5">Porque o pacote ggplot2</h2>
<p>Não é necessário:</p>
<ul>
<li>
<p>comandos específicos para cada gráfico gerado</p>
</li>
<li>
<p>funções adicionais (table ou xtabs)</p>
</li>
<li>
<p>conhecimento prévio de cada uma das funções</p>
</li>
</ul>

    </section>
    

    
    
    
    <section>
    
      
<h2 id="o-pacote-ggplot2">O pacote ggplot2</h2>
<p>Estatístico, cientista computacional e professor adjunto norte-americano</p>
<ul>
<li>Leland Wilkinson (2005)</li>
<li>&ldquo;The grammar of Graphics&rdquo;</li>
<li>mapeamento dos dados em atributos estéticos (posição, cor, forma, tamanho, etc)</li>
<li>formas geométricas (pontos, linhas, barras, caixas, etc)</li>
</ul>

    </section>
    

    
    
    
    <section>
    
      
<h2 id="o-pacote-ggplot2-1">O pacote ggplot2</h2>
<ul>
<li>Hadley Wickham (2008)</li>
<li>Respondeu a pergunta: &ldquo;O que é um gráfico estatístico?&rdquo;</li>
<li>Livro &ldquo;A Layered Grammar of Graphics&rdquo;</li>
</ul>

    </section>
    

    
    
    
    <section>
    
      
<h2 id="o-pacote-ggplot2-2">O pacote ggplot2</h2>
<p>Vantagens:</p>
<ul>
<li>Os gráficos construídos são mais bonitos e apresentáveis</li>
<li>Fácil personalização</li>
<li>Apresentam uma estrutura (sintaxe) única e padronizada</li>
</ul>

    </section>
    

    
    
    
    <section>
    
      
<h2 id="o-pacote-ggplot2-3">O pacote ggplot2</h2>
<ul>
<li>Elementos de um gráfico: dados, sistema de coordenadas, rótulos, anotações</li>
<li>Sobreposição de camadas</li>
<li>Criou o pacote ggplot2</li>
<li>Essência: construir um gráfico estatístico camada por camada</li>
</ul>

    </section>
    

    
    
    
    <section>
    
      
<h2 id="a-gramática-em-camada-de-gráficos">A gramática em camada de gráficos</h2>
<p>Descrevendo um gráfico estatístico:</p>
<table>
<thead>
<tr>
<th>Elementos</th>
<th>Exemplos</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>aes</strong>tética$^*$</td>
<td>cor, formato</td>
</tr>
<tr>
<td><strong>geom</strong>etrias$^*$</td>
<td>barra, ponto</td>
</tr>
<tr>
<td>e<strong>stat</strong>ísticas (modelos)</td>
<td>mediana, máximo</td>
</tr>
<tr>
<td><strong>facet</strong>as</td>
<td>facetas</td>
</tr>
<tr>
<td><strong>coord</strong>enadas</td>
<td>polar, cartesiana</td>
</tr>
<tr>
<td><strong>them</strong>as</td>
<td>eixos, títulos</td>
</tr>
</tbody>
</table>

    </section>
    

    
    
    
    <section>
    
      
<h2 id="passos">Passos</h2>
<p>Primeiro passo:</p>
<pre><code class="language-r">ggplot(mtcars)
</code></pre>
<img src="https://henriqueest.github.io/slides/example/index_files/figure-html/unnamed-chunk-7-1.png" width="672" style="display: block; margin: auto;" />

    </section>
    

    
    
    
    <section>
    
      
<h2 id="passos-1">Passos</h2>
<p>Segundo passo: gráfico de dispersão</p>
<pre><code class="language-r">ggplot(mtcars) +
  geom_point(mapping = aes(x= disp, y=mpg))
</code></pre>
<img src="https://henriqueest.github.io/slides/example/index_files/figure-html/unnamed-chunk-8-1.png" width="672" style="display: block; margin: auto;" />

    </section>
    

    
    
    
    <section>
    
      
<h1 id="os-tipos-de-geometrias-geom">Os tipos de geometrias (geom)</h1>
<p>Principais:</p>
<ul>
<li>point (pontos); line (dispersão);</li>
<li>bar (barras); col (colunas); errorbar (barra de erros)</li>
<li>boxplot; sf (mapas)</li>
</ul>

    </section>
    

    
    
    
    <section>
    
      
<h1 id="argumentos-de-estética-aes">Argumentos de estética (aes)</h1>
<p>Principais:</p>
<ul>
<li>variáveis (x, y, z)</li>
<li>cores (color, colour, fill)</li>
<li>tonalidade (alpha)</li>
<li>formas (shape, linetype)</li>
<li>tamanhos (size)</li>
<li>entre outros</li>
</ul>

    </section>
    

    
    
    
    <section>
    
      
<h2 id="a-escolha-das-cores">A escolha das cores</h2>
<p>Argumento color (colour):</p>
<ul>
<li>Objetos geométricos que não possuem área</li>
<li>Pontos, linhas, borda de gráficos e mapas, etc</li>
</ul>
<p>Argumento fill :</p>
<ul>
<li>Preenchimento</li>
<li>Objetos geométricos que possuem área não nula</li>
<li>Caixas, colunas, círculos, polígonos, etc</li>
</ul>

    </section>
    

    
    
    
    <section>
    
      
<h3 id="o-argumento-color">O argumento color</h3>
<p>Exemplo: Gráfico de dispersão</p>
<pre><code class="language-r"> ggplot(mtcars) +
  geom_point(mapping = aes(x= disp, y=mpg, color=as.factor(am)))
</code></pre>
<img src="https://henriqueest.github.io/slides/example/index_files/figure-html/unnamed-chunk-9-1.png" width="672" style="display: block; margin: auto;" />

    </section>
    

    
    
    
    <section>
    
      
<h3 id="o-argumento-color-1">O argumento color</h3>
<p>Exemplo: Gráfico de dispersão</p>
<pre><code class="language-r">ggplot(mtcars) +
  geom_point(mapping = aes(x= disp, y=mpg), color=c(&quot;red&quot;)) 
</code></pre>
<img src="https://henriqueest.github.io/slides/example/index_files/figure-html/unnamed-chunk-10-1.png" width="672" style="display: block; margin: auto;" />

    </section>
    

    
    
    
    <section>
    
      
<h3 id="o-argumento-fill">O argumento fill</h3>
<p>Exemplo: gráfico de barras</p>
<pre><code class="language-r">ggplot(mtcars, aes(x = as.factor(cyl))) +
  geom_bar(aes(fill=as.factor(am)))
</code></pre>
<img src="https://henriqueest.github.io/slides/example/index_files/figure-html/unnamed-chunk-11-1.png" width="672" style="display: block; margin: auto;" />

    </section>
    

    
    
    
    <section>
    
      
<h3 id="o-argumento-fill-1">O argumento fill</h3>
<p>Exemplo: gráfico de barras</p>
<pre><code class="language-r">ggplot(mtcars, aes(x = as.factor(cyl))) +
  geom_bar(fill = &quot;red&quot;)
</code></pre>
<img src="https://henriqueest.github.io/slides/example/index_files/figure-html/unnamed-chunk-12-1.png" width="672" style="display: block; margin: auto;" />

    </section>
    

    
    
    
    <section>
    
      
<h2 id="o-argumento-alpha-tonalidade-das-cores">O argumento alpha (tonalidade das cores)</h2>
<p>Exemplo: gráfico de barras</p>
<pre><code class="language-r">ggplot(mtcars, aes(x = as.factor(cyl))) +
  geom_bar(aes(alpha = as.factor(cyl), fill = as.factor(cyl)))
</code></pre>
<img src="https://henriqueest.github.io/slides/example/index_files/figure-html/unnamed-chunk-13-1.png" width="672" style="display: block; margin: auto;" />

    </section>
    

    
    
    
    <section>
    
      
<h2 id="o-argumento-forma-shape">O argumento forma (shape)</h2>
<p>Exemplo: Gráfico de dispersão (Exclusivo)</p>
<pre><code class="language-r"> ggplot(mtcars) +
  geom_point(mapping = aes(x= disp, y=mpg, color=as.factor(am), shape = as.factor(carb)))
</code></pre>
<img src="https://henriqueest.github.io/slides/example/index_files/figure-html/unnamed-chunk-14-1.png" width="672" style="display: block; margin: auto;" />

    </section>
    

    
    
    
    <section>
    
      
<h2 id="o-argumento-forma-linetype">O argumento forma (linetype)</h2>
<p>Exemplo: Gráfico de linhas (Exclusivo)</p>
<pre><code class="language-r"> ggplot(mtcars) +
  geom_line(mapping = aes(x= disp, y=mpg, linetype = as.factor(am), color = as.factor(am)))
</code></pre>
<img src="https://henriqueest.github.io/slides/example/index_files/figure-html/unnamed-chunk-15-1.png" width="672" style="display: block; margin: auto;" />

    </section>
    

    
    
    
    <section>
    
      
<h2 id="o-argumento-tamanho-size">O argumento tamanho (size)</h2>
<p>Exemplo: Gráfico de dispersão</p>
<pre><code class="language-r"> ggplot(mtcars) +
  geom_point(mapping = aes(x= disp, y=mpg, color=as.factor(am), shape = as.factor(carb),
                           size = as.factor(cyl)))
</code></pre>
<img src="https://henriqueest.github.io/slides/example/index_files/figure-html/unnamed-chunk-16-1.png" width="672" style="display: block; margin: auto;" />

    </section>
    

    
    
    
    <section>
    
      
<h2 id="o-argumento-tamanho-size-1">O argumento tamanho (size)</h2>
<p>Exemplo: Gráfico de linhas</p>
<pre><code class="language-r"> ggplot(mtcars) +
  geom_line(mapping = aes(x= disp, y=mpg, linetype = as.factor(am), color = as.factor(am), size = as.factor(cyl)))
</code></pre>
<img src="https://henriqueest.github.io/slides/example/index_files/figure-html/unnamed-chunk-17-1.png" width="672" style="display: block; margin: auto;" />

    </section>
    

    
    
    
    <section>
    
      
<h2 id="a-escolha-dos-rótulos-dos-eixos-labs">A escolha dos rótulos dos eixos (labs)</h2>
<p>Linha de comando: labs()</p>
<ul>
<li>x  &quot;&quot; (eixo x); y &quot;&quot; (eixo y)</li>
<li>color = &ldquo;&rdquo;; colour = &quot;&quot;</li>
<li>shape = &ldquo;&rdquo;; size = &quot;&quot;</li>
</ul>

    </section>
    

    
    
    
    <section>
    
      
<h2 id="questions">Questions?</h2>
<p><a href="https://github.com/wowchemy/wowchemy-hugo-modules/discussions" target="_blank" rel="noopener">Ask</a></p>
<p><a href="https://wowchemy.com/docs/managing-content/#create-slides" target="_blank" rel="noopener">Documentation</a></p>

    </section>
    

    
    
    
    <section>
    
      

    </section>
    

    
    
  </div>
</div>



  <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.2.1/dist/reveal.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.2.1/plugin/markdown/markdown.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.2.1/plugin/highlight/highlight.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.2.1/plugin/notes/notes.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.2.1/plugin/search/search.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.2.1/plugin/math/math.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.2.1/plugin/zoom/zoom.min.js" crossorigin="anonymous"></script>

  
  
    <script src="https://cdn.jsdelivr.net/npm/reveal.js-menu@2.1.0/plugin.js" integrity="sha256-M6JwAjnRAWmi+sbXURR/yAhWZKYhAw7YXnnLvIxrdGs=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js-menu@2.1.0/menu.js" integrity="sha256-l14dklFcW5mWar6w/9KaW0fWVerf3mYr7Wt0+rXzFAA=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js-menu@2.1.0/menu.css" integrity="sha256-0fU8HKLaTjgzfaV9CgSqbsN8ilA3zo6zK1M6rlgULd8=" crossorigin="anonymous">
  

  

  
  <script src="/js/wowchemy-slides.js"></script>

</body>
</html>
